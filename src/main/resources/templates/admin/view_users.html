<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">

<title>Admin</title>

  <link th:href="@{/css/site.css}" rel="stylesheet" />
  <link th:href="@{/css/controls.css}" rel="stylesheet" />
  <link th:href="@{/css/richtext.min.css}" rel="stylesheet" />
  
  <link th:href="@{css/datatables.min.css}" rel="stylesheet" />
  <link th:href="@{css/fontawsome_all.min.css}" rel="stylesheet"/>
  
  <script th:src="@{/js/jquery-3.6.4.min.js}" type="text/javascript"></script>
  <script th:src="@{/js/richt_text_config.js}" type="text/javascript"></script>
  <script th:src="@{/js/jquery.richtext.min.js}" type="text/javascript"></script>
  <script th:src="@{js/datatables.min.js}" type="text/javascript"></script>

</head>
<body>
 <a th:href="@{home}" ><em class="fa-solid fa-chevron-left"></em></a> 
<div th:fragment = "view_users_list">

	 <div class ="center">
  	<h3>All users</h3>
  	
  	<table id="user_table_data" class="display" style="width:100%">
        <thead>
           <tr>
             <th>Photo</th>
             <th>Id</th>
             <th>Name</th>
             <th>Email</th>
             <th>phone Number</th>
             <th>Edit</th>
             <th>Remove</th>
            </tr>
        </thead>
        <tbody>
           <tr th:each="user : ${users}">
           	  <td ><img th:src="${user.getImagePath()}" width="30px" height="30px" > </td>
              <td th:text="${user.id}"> </td>
              <td th:text="${user.name}"></td>
              <td th:text="${user.email}"></td>
              <td th:text="${user.phoneNumber}"></td>
              <td class="edit" th:id="'edit_'+${user.id} "> 
                   <a th:href="@{'/update_user?id=' + ${user.id}}">
                   		<i class="fa-regular fa-pen-to-square"></i>
                   </a>  
               </td>
               <td class="remove" th:id="'remove_'+${user.id} ">
               
                	<a th:href="@{'remove_user?id=' + ${user.id}}" style="color: red">
   				      <i class="fa-solid fa-trash" ></i>
   			       </a>
               </td>
          </tr>
       </tbody>
</table>
  
</div>

</div>
 

  
 <script>

$(document).ready(function () {
	var configurations ={
			paging: true,
			ordering: false,
			info : false,
			searching: true,
			scrollY: '300px',
	        scrollCollapse: true,
			
		}
    var userTable = $('#user_table_data').DataTable(configurations);

});

</script>
</body>
</html>